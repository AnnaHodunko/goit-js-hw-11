{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '44162720-a316c36f9e5620bf7580caa42';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function fetchImg(searchQuery) {\n  return fetch(\n    `${BASE_URL}?key=${API_KEY}&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    .then(response => {\n      return response.json();\n    })\n    .then(data => {\n      return data.hits;\n    });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightbox;\n\nexport function renderCard(hits, gallery) {\n  clearGallery(gallery);\n  const markup = hits.map(hit => createGalleryCard(hit)).join('');\n  gallery.insertAdjacentHTML('beforeend', markup);\n  if (lightbox) {\n    lightbox.refresh();\n  } else {\n    lightbox = new SimpleLightbox('.gallery a');\n  }\n}\n\nfunction createGalleryCard({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `\n    <a class=\"gallery-item\" href=\"${largeImageURL}\">\n      <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n      <div class=\"info\">\n        <p><span>Likes:</span> ${likes}</p>\n        <p><span>Views:</span> ${views}</p>\n        <p><span>Comments:</span> ${comments}</p>\n        <p><span>Downloads:</span> ${downloads}</p>\n      </div>\n    </a>\n  `;\n}\n\nexport function clearGallery(gallery) {\n  gallery.innerHTML = '';\n}\n\nexport function showErrorMessage(message) {\n  iziToast.error({\n    title: 'Error',\n    message: message,\n  });\n}\n\nexport function showLoadingIndicator() {\n  const loader = document.createElement('div');\n  loader.className = 'loader';\n  document.body.appendChild(loader);\n}\n\nexport function hideLoadingIndicator() {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    document.body.removeChild(loader);\n  }\n}\n","import { fetchImg } from './js/pixabay-api.js';\nimport {\n  renderCard,\n  showErrorMessage,\n  showLoadingIndicator,\n  hideLoadingIndicator,\n} from './js/render-functions.js';\n\nconst searchForm = document.querySelector('form');\nconst gallery = document.querySelector('.gallery');\n\nsearchForm.addEventListener('submit', onSearch);\n\nfunction onSearch(e) {\n  e.preventDefault();\n  const form = e.currentTarget;\n  const searchQuery = form.elements.query.value.trim();\n\n  if (searchQuery === '') {\n    showErrorMessage('Please enter a search query.');\n    return;\n  }\n\n  showLoadingIndicator();\n  fetchImg(searchQuery)\n    .then(hits => {\n      hideLoadingIndicator();\n      if (hits.length === 0) {\n        showErrorMessage(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n        return;\n      }\n      renderCard(hits, gallery);\n    })\n    .catch(error => {\n      hideLoadingIndicator();\n      console.log(error);\n      showErrorMessage('Failed to fetch images. Please try again later.');\n    });\n\n  form.reset();\n}\n"],"names":["API_KEY","BASE_URL","fetchImg","searchQuery","response","data","lightbox","renderCard","hits","gallery","clearGallery","markup","hit","createGalleryCard","SimpleLightbox","webformatURL","largeImageURL","tags","likes","views","comments","downloads","showErrorMessage","message","iziToast","showLoadingIndicator","loader","hideLoadingIndicator","searchForm","onSearch","form","error"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAASC,EAAa,CACpC,OAAO,MACL,GAAGF,CAAQ,QAAQD,CAAO,MAAMG,CAAW,0DAC5C,EACE,KAAKC,GACGA,EAAS,MACjB,EACA,KAAKC,GACGA,EAAK,IACb,CACL,CCRA,IAAIC,EAEG,SAASC,EAAWC,EAAMC,EAAS,CACxCC,EAAaD,CAAO,EACpB,MAAME,EAASH,EAAK,IAAII,GAAOC,EAAkBD,CAAG,CAAC,EAAE,KAAK,EAAE,EAC9DH,EAAQ,mBAAmB,YAAaE,CAAM,EAC1CL,EACFA,EAAS,QAAO,EAEhBA,EAAW,IAAIQ,EAAe,YAAY,CAE9C,CAEA,SAASD,EAAkB,CACzB,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA,oCAC2BL,CAAa;AAAA,kBAC/BD,CAAY,UAAUE,CAAI;AAAA;AAAA,iCAEXC,CAAK;AAAA,iCACLC,CAAK;AAAA,oCACFC,CAAQ;AAAA,qCACPC,CAAS;AAAA;AAAA;AAAA,GAI9C,CAEO,SAASX,EAAaD,EAAS,CACpCA,EAAQ,UAAY,EACtB,CAEO,SAASa,EAAiBC,EAAS,CACxCC,EAAS,MAAM,CACb,MAAO,QACP,QAASD,CACb,CAAG,CACH,CAEO,SAASE,GAAuB,CACrC,MAAMC,EAAS,SAAS,cAAc,KAAK,EAC3CA,EAAO,UAAY,SACnB,SAAS,KAAK,YAAYA,CAAM,CAClC,CAEO,SAASC,GAAuB,CACrC,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACF,SAAS,KAAK,YAAYA,CAAM,CAEpC,CCtDA,MAAME,EAAa,SAAS,cAAc,MAAM,EAC1CnB,EAAU,SAAS,cAAc,UAAU,EAEjDmB,EAAW,iBAAiB,SAAUC,CAAQ,EAE9C,SAASA,EAAS,EAAG,CACnB,EAAE,eAAc,EAChB,MAAMC,EAAO,EAAE,cACT3B,EAAc2B,EAAK,SAAS,MAAM,MAAM,OAE9C,GAAI3B,IAAgB,GAAI,CACtBmB,EAAiB,8BAA8B,EAC/C,MACD,CAEDG,IACAvB,EAASC,CAAW,EACjB,KAAKK,GAAQ,CAEZ,GADAmB,IACInB,EAAK,SAAW,EAAG,CACrBc,EACE,0EACV,EACQ,MACD,CACDf,EAAWC,EAAMC,CAAO,CAC9B,CAAK,EACA,MAAMsB,GAAS,CACdJ,IACA,QAAQ,IAAII,CAAK,EACjBT,EAAiB,iDAAiD,CACxE,CAAK,EAEHQ,EAAK,MAAK,CACZ"}